{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","services/api/search.js","views/MoviesPage.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","FetchSearch","query","axios","defaults","baseURL","params","api_key","language","page","include_adult","MoviesPage","useState","setQuery","movies","setMovies","navigate","useNavigate","location","useLocation","useEffect","search","URLSearchParams","get","then","response","data","results","onSubmit","e","preventDefault","trim","toLowerCase","type","autoComplete","autoFocus","placeholder","onChange","map","id","title","to","state","from"],"mappings":"yIAAe,SAASA,EAAgBC,EAAKC,EAAKC,GAYhD,OAXID,KAAOD,EACTG,OAAOC,eAAeJ,EAAKC,EAAK,CAC9BC,MAAOA,EACPG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZP,EAAIC,GAAOC,EAGNF,ECVT,SAASQ,EAAQC,EAAQC,GACvB,IAAIC,EAAOR,OAAOQ,KAAKF,GAEvB,GAAIN,OAAOS,sBAAuB,CAChC,IAAIC,EAAUV,OAAOS,sBAAsBH,GACvCC,IAAgBG,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOZ,OAAOa,yBAAyBP,EAAQM,GAAKV,eAEtDM,EAAKM,KAAKC,MAAMP,EAAME,GAGxB,OAAOF,EAGM,SAASQ,EAAeC,GACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAE/CA,EAAI,EACNb,EAAQL,OAAOqB,IAAS,GAAMC,SAAQ,SAAUxB,GAC9C,EAAemB,EAAQnB,EAAKuB,EAAOvB,OAE5BE,OAAOuB,0BAChBvB,OAAOwB,iBAAiBP,EAAQjB,OAAOuB,0BAA0BF,IAEjEhB,EAAQL,OAAOqB,IAASC,SAAQ,SAAUxB,GACxCE,OAAOC,eAAegB,EAAQnB,EAAKE,OAAOa,yBAAyBQ,EAAQvB,OAKjF,OAAOmB,E,mCC/BT,SAASQ,EAAYC,GASnB,OARAC,IAAMC,SAASC,QAAU,4CACzBF,IAAMC,SAASE,OAAS,CACtBC,QAAS,mCACTL,MAAM,GAAD,OAAKA,GACVM,SAAU,QACVC,KAAM,EACNC,eAAe,GAEVP,M,gCCoDMQ,UA1Df,WACE,MAA0BC,mBAAS,IAAnC,mBAAOV,EAAP,KAAcW,EAAd,KACA,EAA4BD,mBAAS,IAArC,mBAAOE,EAAP,KAAeC,EAAf,KACMC,EAAWC,cACXC,EAAWC,cA0BjB,OAxBAC,qBAAU,cAAU,CAACF,EAASG,SAE9BD,qBAAU,WACRF,EAASG,QACPpB,EAAY,IAAIqB,gBAAgBJ,EAASG,QAAQE,IAAI,UAAUC,MAC7D,SAACC,GACCV,EAAUU,EAASC,KAAKC,cAG7B,CAACT,EAASG,SAgBX,qCACE,uBAAMO,SAfW,SAACC,GAGpB,GAFAA,EAAEC,kBAEG5B,EAAM6B,OAAQ,OAAOlB,EAAS,IAEnCZ,EAAYC,EAAM6B,OAAOC,eAAeR,MAAK,SAACC,GAC5CV,EAAUU,EAASC,KAAKC,YAG1BX,EAAS,OAAKE,GAAN,IAAgBG,OAAO,SAAD,OAAWnB,MACzCW,EAAS,KAKP,UACE,uBACEoB,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,gBACZ7D,MAAO2B,EACPmC,SAAU,SAACR,GAAD,OAAOhB,EAASgB,EAAEpC,OAAOlB,UAErC,wBAAQ0D,KAAK,SAAb,SACE,+CAGJ,6BACGnB,EAAOwB,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACV,6BACE,cAAC,IAAD,CAASC,GAAE,UAAKF,GAAMG,MAAO,CAAEC,KAAMzB,GAArC,SACGsB,KAFID","file":"static/js/movie-page.3fc4e47c.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import axios from \"axios\";\n\nfunction FetchSearch(query) {\n  axios.defaults.baseURL = \"https://api.themoviedb.org/3/search/movie\";\n  axios.defaults.params = {\n    api_key: \"4ee679899b95e871f52315315906d996\",\n    query: `${query}`,\n    language: \"en-US\",\n    page: 1,\n    include_adult: false,\n  };\n  return axios();\n}\n\nexport { FetchSearch };\n","import { FetchSearch } from \"../services/api/search\";\nimport { useState, useEffect } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { useNavigate, useLocation } from \"react-router\";\n\nfunction MoviesPage() {\n  const [query, setQuery] = useState(\"\");\n  const [movies, setMovies] = useState([]);\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  useEffect(() => {}, [location.search]);\n\n  useEffect(() => {\n    location.search &&\n      FetchSearch(new URLSearchParams(location.search).get(\"query\")).then(\n        (response) => {\n          setMovies(response.data.results);\n        }\n      );\n  }, [location.search]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (!query.trim()) return setQuery(\"\");\n\n    FetchSearch(query.trim().toLowerCase()).then((response) => {\n      setMovies(response.data.results);\n    });\n\n    navigate({ ...location, search: `query=${query}` });\n    setQuery(\"\");\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n          value={query}\n          onChange={(e) => setQuery(e.target.value)}\n        ></input>\n        <button type=\"submit\">\n          <span>Search</span>\n        </button>\n      </form>\n      <ul>\n        {movies.map(({ id, title }) => (\n          <li key={id}>\n            <NavLink to={`${id}`} state={{ from: location }}>\n              {title}\n            </NavLink>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n}\n\nexport default MoviesPage;\n"],"sourceRoot":""}