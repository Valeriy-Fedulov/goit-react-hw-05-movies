(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[5],{71:function(e,t,r){"use strict";function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,c)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.r(t);var o=r(5),u=r(40),i=r.n(u);function s(e){return i.a.defaults.baseURL="https://api.themoviedb.org/3/search/movie",i.a.defaults.params={api_key:"4ee679899b95e871f52315315906d996",query:"".concat(e),language:"en-US",page:1,include_adult:!1},i()()}var b=r(0),f=r(6),j=r(1),l=r(2);t.default=function(){var e=Object(b.useState)(""),t=Object(o.a)(e,2),r=t[0],c=t[1],n=Object(b.useState)([]),u=Object(o.a)(n,2),i=u[0],p=u[1],O=Object(j.h)(),h=Object(j.g)();return Object(b.useEffect)((function(){}),[h.search]),Object(b.useEffect)((function(){h.search&&s(new URLSearchParams(h.search).get("query")).then((function(e){p(e.data.results)}))}),[h.search]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),!r.trim())return c("");s(r.trim().toLowerCase()).then((function(e){p(e.data.results)})),O(a(a({},h),{},{search:"query=".concat(r)})),c("")},children:[Object(l.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:r,onChange:function(e){return c(e.target.value)}}),Object(l.jsx)("button",{type:"submit",children:Object(l.jsx)("span",{children:"Search"})})]}),Object(l.jsx)("ul",{children:i.map((function(e){var t=e.id,r=e.title;return Object(l.jsx)("li",{children:Object(l.jsx)(f.c,{to:"".concat(t),state:{from:h},children:r})},t)}))})]})}}}]);
//# sourceMappingURL=movie-page.3fc4e47c.chunk.js.map